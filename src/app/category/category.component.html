<div class="container">
  <div class="imgbox">
    <span nz-icon [nzType]="item.iconType" nz-tooltip [nzTooltipTitle]="item.name"></span>
  </div>
  <div class="text">
    <p class="p1">Пока что у данной категории нет ни одного шаблона</p>
    <p class="p2">Вы можете прикрепить новый шаблон к категории</p>
  </div>
  <button nz-button nzType="primary" (click)="showModal()">
    <span>+ Прикрепить</span>
  </button>
  <button nz-button [nzType]="nzType" (click)="fileInput.click()" type="button">
    <span nz-icon nzType="upload" nzTheme="outline"></span>
    Импорт
  </button>
  <input class="form-control" #fileInput hidden type="file" (change)="onUpload($event)" accept=".csv, .tsv, .xlsx" />
</div>

<nz-modal [(nzVisible)]="isVisible" nzTitle="Добавление категории" (nzOnCancel)="handleCancel()"
  [nzOkLoading]="isOkLoading" [nzContent]="modalForm" nzWidth="720px" [nzFooter]="modalFooter">
  <ng-template #modalTitle>Добавление категории</ng-template>

  <ng-template #modalForm>
    <form nz-form autocomplete="off" [nzNoColon]="true" [formGroup]="form" nzDisableAutoTips="true">

      <nz-form-item class="card__item">
        <nz-form-label [nzSpan]="8" nzFor="parentCategoryCode" nzRequired>Код родительской категории</nz-form-label>
        <nz-form-control [nzSpan]="16">
          <input id="parentCategoryCode" type="text" nz-input formControlName="parentCategoryCode" nzSize="large" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item class="card__item">
        <nz-form-label [nzSpan]="8" nzFor="categoryCode">Код категории</nz-form-label>
        <nz-form-control [nzSpan]="16">
          <input id="categoryCode" type="text" nz-input formControlName="categoryCode" nzSize="large" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item class="card__item">
        <nz-form-label [nzSpan]="8" nzFor="title" nzRequired>Наименование</nz-form-label>
        <nz-form-control [nzSpan]="16">
          <input id="title" type="text" nz-input formControlName="title" nzSize="large" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item class="card__item_description">
        <nz-form-label [nzSpan]="8" nzFor="description">Описание</nz-form-label>
        <nz-form-control [nzSpan]="16">
          <textarea nz-input class="card__input" formControlName="description" [attr.id]="'nameField'"></textarea>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item class="card__item">
        <nz-form-label [nzSpan]="8" nzFor="isAvailable">Активен</nz-form-label>
        <nz-form-control [nzSpan]="16">
          <nz-switch formControlName="isAvailable"></nz-switch>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item class="card__item">
        <nz-form-label [nzSpan]="8" nzFor="isClassificationAllowed">Разрешить классификацию</nz-form-label>
        <nz-form-control [nzSpan]="16">
          <nz-switch formControlName="isClassificationAllowed"></nz-switch>
        </nz-form-control>
      </nz-form-item>

    </form>
  </ng-template>

  <ng-template class="footer" #modalFooter>
    <button nz-button nzType="default" (click)="handleCancel()">Закрыть</button>
    <button nz-button nzType="primary" type="submit" [nzLoading]="isOkLoading"
      (click)="handleOk(form)">Добавить</button>
  </ng-template>

</nz-modal>
